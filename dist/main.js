var Client=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"handleSubmit",(function(){return o}));let r={placeName:"",date:"",lat:"",lng:"",weather:"",maxTemp:"",lowTemp:""};function o(e){e.preventDefault();let t=document.getElementById("inputLocation").value,n=document.getElementById("inputDate").value;r.placeName=t,r.date=n;let o=new Date,g=new Date(n);g.setHours(o.getHours()),g.setMinutes(o.getMinutes()),g.setSeconds(o.getSeconds()),g.setMilliseconds(o.getMilliseconds());let h=(g.getTime()-o.getTime())/864e5;h>15&&(document.getElementById("errorMSG").innerHTML="Sorry, weather forecast is only available for the next 15 days",setTimeout(()=>{document.getElementById("errorMSG").innerHTML=""},3e3)),i(a,t,l),u(c,t,s).then(()=>{f(m,r.lat,d,r.lng,p,h).then(()=>{y()})})}const a="https://pixabay.com/api/?key=16556677-f422a39b53b1100a4cbef14e0&q=",l="&image_type=photo&pretty=true&category=places&orientation=horizontal",i=async(e,t,n)=>{const r=await fetch(e+t+n);try{const e=await r.json();return document.getElementById("resultsImg").innerHTML='<img id="pixImage" src='+e.hits[0].webformatURL+">",e}catch(e){console.log("error: ",e)}},c="http://api.geonames.org/postalCodeSearchJSON?placename=",s="&username=nerdpl",u=async(e,t,n)=>{const o=await fetch(e+t+n);try{const e=await o.json();return r.lat=e.postalCodes[0].lat,r.lng=e.postalCodes[0].lng,e}catch(e){console.log("error: ",e),document.getElementById("errorMSG").innerHTML="This location doesn't seem to exist",setTimeout(()=>{document.getElementById("errorMSG").innerHTML=""},3e3)}},m="https://api.weatherbit.io/v2.0/forecast/daily?lat=",d="&lon=",p="&key=9577e977cbd54849bc66696ec9ef97df",f=async(e,t,n,o,a,l)=>{const i=await fetch(e+t+n+o+a);try{const e=await i.json();return r.weather=e.data[l].weather.description,r.lowTemp=e.data[l].low_temp,r.maxTemp=e.data[l].max_temp,e}catch(e){console.log("error: ",e)}},y=()=>{document.getElementById("results").innerHTML="<h2>Results:</h2>Place: "+r.placeName.toUpperCase()+"<BR>Date: "+r.date+"<BR>Weather: "+r.weather+"<BR>Maximum temp: "+r.maxTemp+" C<BR>Lowest temp: "+r.lowTemp+" C"};n(0)}]);